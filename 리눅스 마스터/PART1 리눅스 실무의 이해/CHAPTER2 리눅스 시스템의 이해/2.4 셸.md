# PART1 리눅스 실무의 이해[CHAPTER2 리눅스 시스템의 이해]


<br>


### 2.4 셸(shell)

#### 2.4.1 셸의 이해

- 셸의 개념 및 특징
    1. 셸이란?
        + 명령어와 프로그램을 실행할 때 사용하는 인터페이스
        + 커널에서 분리된 별도의 프로그램으로 다양한 종류 셸이 존재
        + 자체 프로그래밍 기능이 있어 프로그래밍 작성가능
        + 초기화 파일 기능을 이용해 사용자 환경을 설정 가능
        
        - 셸 위치

        ![shell](https://user-images.githubusercontent.com/93310395/223718507-2ff8da8a-5ce4-4ff5-9f35-43eb7d269388.png)

        - 셸 실행

        ![shell2](https://user-images.githubusercontent.com/93310395/223724936-19c0735f-aac8-4ce4-bd41-2d0f6a3c64b6.png)

    2. 주요 셸의 기능 
        
        - 본 셸(Bourne Shell - sh) 
            - 최초의 본격적인 쉘로 1977년 Stephen Bourne이 개발
            - 시스템 관리 작업을 수행하는 많은 쉘 스크립트들은 본 쉘을 기반으로 작동
            - 대부분의 유닉스 시스템에 기본적으로 설치되어있으나, 솔라리스 11에서는 본쉘(/usr/bin/sh)이 콘쉘로 대체
        - C셸(C Shell:csh)
            - 1978년 캘리포니아(버클리)대학교에서 Bill Joy가 개발
            - 본쉘의 기능을 확장한 것으로 앨리어스나 히스토리 같은 사용자 편의 기능을 포함
            - 크기가 커지고 처리 속도도 느려졌다는 단점이 있지만, 편리한 기능이 때문에 일반 사용자가 즐겨 사용
        - 배시 쉘(Bourne Again Shell : bash)
            - 1988년 본 쉘을 기반으로 브라이언 폭스에 의해 개발
            - 본 쉘과 호환성을 유지하면서 C쉘, 콘 쉘의 편리한 기능도 포함
            - GNU 따르는 공개 소프트웨어, 리눅스의 기본 쉘로 동작    
        - 콘 쉘(Korn Shell : ksh)
            - 1983년 AT&T 벨 연구소의 David Korn)이 개발
            - 히스토리기능, 앨리어스 기능 등 C쉘의 특징들도 모두 제공하면서 처리 속도도 빠름 
        - 그외 dash, tcsh

- 셸의 확인과 변경       
    1. 셸의 확인

        ![shellecho](https://user-images.githubusercontent.com/93310395/223741743-f86a5b96-6888-46fe-948f-e731a7a72757.JPG)
    
        - #echo $SHELL, #env|grep SHELL
        - 변경 가능한 셸확인 : chsh-l 실행, cat/etc/shells

    2. 셸의 변경
        - $ chsh : chsh [옵션] [계정명] [셸]
            - '-s' : 지정하는 셸을 앞으로 사용할 로그인 셸로 변경
            - '-l' : /etc/shells 파일 내용과 동일한 내용

            |옵션|설명|
            |---|---|
            |-s|변경하고자하는 셸 명시(--shell)|
            |-l|사용 가능한 셸의 목록 출력(--list-shells)|
            |-u|chsh 명령어 사용법 출력(--help)|
            |-v|설치한 패키지의 버전 출력(--version)|    

            ![shellck](https://user-images.githubusercontent.com/93310395/223739204-770376c7-fdb1-4130-b594-e8465d704a1d.png)

            - usermod : 관리자 환경에서 지정된 계정의 정보를 변경
                - usermod [옵션] [계정명]
            
             -  ex) dash셸로 변경 : chsh -s /bin/dash [사용자 이름]

        
             

    3. 사용자의 로그인 셸 정보 확인
        - /etc/passwd : 시스템에 등록된 사용자의 정보들이 담겨있는 파일

        ````
        root:x:0:0:root:/root:/bin/bashroot:x:0:0:root:/root:/bin/bash
        ```` 

        |필드|설명|
        |------|---|
        |사용자 계정명|맨 앞에 필드는 사용자의 계정명|
        |패스워드| x가 의미하는 바는 사용자의 패스워드가 /etc/shadow에 암호화되어 저장되어있다는 뜻|
        |UID|사용자의 user id, 관리자 계정(Root)은 UID가 0|
        |GID|사용자의 그룹 ID,관리자 그룹(Root)의 GID는 0|
        |comment|사용자와 관련한 기타 정보로 일반적으로 사용자의 이름|
        |홈디렉터리|관리자 계정의 홈 디렉토리는 /root이며, 다른 사용자의 홈 디렉토리는 기본으로 /home/ 하위에 계정명으로 위치|
        |로그인 셸|보통 사용자의 쉘은 성능이 우수한 bash쉘을 사용, 로그인이 불필요한 계정도 있는데요. 이때는 이 필드가 /usr/sbin/nologin, /bin/false, /sbin/nologin 등으로 표기|

- 셀 변수와 환경 변수 
    1. 셀변수
        - 특정한 셸에서만 적용되는 변수를 말함

        |입력|설명|
        |------|---|
        |변수명 지정|변수명= 값(공백X)|
        |변수명 해제|#unset 변수명|
        |변수값 출력|$ 변수명|
        |변수 확인|echo 변수명|
        |설정된 전체 셀변수 값 확인|#set|

        ![echo](https://user-images.githubusercontent.com/93310395/223937433-31cead91-1dde-4f97-97f6-c5fe9c4b81a4.JPG)

    2. 환경변수
        - 프롬프트 변경, PATH 변경 등과 같이 셸의 환경을 정의하는 중요한 역할을 수행하는 변수
        - 미리 예약된 변수명 사용, 대문자로 된 변수로 구성
        - 설정된 전체 환경변수 값 확인 : env 명령 
        
    3. 주요환경변수
    4.                                    