# PART1 리눅스 실무의 이해[CHAPTER2 리눅스 시스템의 이해]


<br>


### 2.5 프로세스

#### 2.5.1 프로세스의 개념 및 종류
    
- 프로세스의 정의
    - 실행중인 프로그램
    - PCB(Process Control Block)를 지닌 프로그램
    - 프로그램 카운터를 지닌 프로그램
    - 능동적 개체로, 순차적으로 수행하는 프로그램
    - 프로세스 종류
        - 백그라운드 : 사용자의 입력과 상관이 없이 실행
        - 포어그라운드 : 명령 입력 후 수행완료까지 기다려야 함
    
- 프로세스의 생성
    - 하나의 프로세스가 다른 프로세스를 실행하기 위한 시스템 호출
        - fork
            - 새로운 프로세스를 위해 메모리를 할당받아 복사본의 형태의 프로세스를 실행
            - 기존의 프로세스는 그대로 실행
            - 새롭게 생성된 프로세스는 원래 프로세스랑 똑같은 기반으로 실행
        - exec 
            - 원래의 프로세스를 새로운 프로세스로 대체하는 형태  
            - 호출한 프로세스의 메모리에 새로운 프로세스의 코드를 덮음
    - 프로스세스 생성과정
        - 리눅스 부팅 >> 커널 systemd(최초의 프로세스)발생 >> systemd PID 할당 받음 >> 시스템운영에 필요한 프로세스(데몬 등) Fork방식으로 systemd의 자식프로세스 
        - pstree 명령어로 systemd의 위치 확인 가능, 가장 안 쪽에 위치

            ![pstree -h](https://user-images.githubusercontent.com/93310395/234794478-22f61554-2243-4ded-8bc3-95b90a4a09e5.JPG)
        
        - 명령어 실행시 fork가 일반적
            - 사용자 로그인 >> bash 프로세스 할당 >> 명령어 수행, fork 형태
                - ps -l : PPID(Prent PID)가 bash의 PID임 

                ![image](https://user-images.githubusercontent.com/93310395/234794953-db744d07-981a-4d1d-86af-465956b0bca9.png)

            - 명령어 앞에 exec를 붙이면 기본 프로세스가 교체>> 새로운 프로세스 할당

                ![image](https://user-images.githubusercontent.com/93310395/234795520-f82d4df7-f445-4da9-8011-50bed70ee4d9.png)

- 프로세스의 종류

    ![image](https://user-images.githubusercontent.com/93310395/234796269-be6eee67-284d-4fc8-a04d-820682f0acae.png)

    - find / -name '*.txt' 2>/dev/null > list.txt 
        - 위에서 실행된 포어그라운드 프로세스는 실제 화면에 출력되는 내용은 없고, 찾아진 결과가 list.txt에 저장 >> list.txt 확인시 불필요한 대기를 해야함

    -  find / -name '*.txt' 2>/dev/null > list.txt &
        - 실행 명령뒤에 '&' 를 추가로 붙임
        - 다중 작업을 수행할 때 유용
        - [ 1 ]3580 : [ 1 ]은 작업번호, 3580은 PID 번호 
    
- 멀티 태스킹과 작업 전환
    - 멀티태스킹 : 동시에 하나 이상의 프로그램을 실행하는 것
    - 다수의 프로그램들을 백그라운드 프로세스로 실행시킨 상태에서 추가로 다른 프로세스를 포어그라운드로 다른 작업 수행 가능

    - 포어그란운드 프로세스 > 백그라운드 전환
        - 작업 중인 프로세스 >> 프로세스 일시 정지 [ ctrl ] + [ z ] >> 'bg' 입력 >> 백그라운드 작업으로 전환
        - 'jobs' : 프로세스 상태확인
    
    - 백그라운드 > 포어그라운드 전환
        - 'fg'명령어 사용
        - 백그라운드로 수행중인 경우 : 'fg %작업번호', 'fg 작업번호' 
            ![image](https://user-images.githubusercontent.com/93310395/234801062-82d36256-2e30-4caa-b418-0f5ab0fe28ea.png)

    ** jobs
        - + : 주로 사용되는 프로세스, 가장 늦게 실행한 프로세스, 작업번호 없이 fg입력시 자동 전환
        - - : + 기호가 붙은 작업의 다음 순위의 작업
        
        